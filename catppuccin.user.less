/* ==UserStyle==
@name Flavortown Catppuccin
@namespace elijah629
@homepageURL https://github.com/elijah629/flavortown-catppuccin
@version 2025.12.22-3
@updateURL https://github.com/elijah629/flavortown-catppuccin/raw/main/catppuccin.user.less
@description Soothing pastel theme for hackclub/flavortown
@author elijah629
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]
==/UserStyle== */

@import "https://userstyles.catppuccin.com/lib/lib.less";

@-moz-document domain("flavortown.hackclub.com") {
  :root {
    @media (prefers-color-scheme: light) {
      #catppuccin(@lightFlavor);
    }
    @media (prefers-color-scheme: dark) {
      #catppuccin(@darkFlavor);
    }
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();
    #lib.css-variables();

    --primary: @accent;
    --primary-foreground: @base;

    --color-text: @text;
    --color-text-header: @text;
    --color-text-body: @text;
    --color-text-muted: @subtext1;

    --color-mantle: @mantle;
    --color-bg: @base;
    --color-bg-2: @surface0;
    --color-bg-3: @surface1;
    --color-bg-4: @surface2;

    --color-border: @overlay0;
    --color-border-strong: @overlay2;

    .generate-color(@name, @color, @shades: {
      300: 100%;
      400: 85%;
      450: 75%;
      500: 65%;
      600: 50%;
    }) {
      each(@shades, {
        --color-@{name}-@{key}: mix(@color, black, @value);
      });
    }

    .generate-color(red, @red);
    .generate-color(green, @green, {
      300: 90%;
      400: 85%;
      450: 75%;
      500: 65%;
      600: 50%;
    });
    .generate-color(blue, @blue);
    .generate-color(yellow, @yellow);
    .generate-color(pink, @pink);
    .generate-color(teal, @teal);

    --color-brown-700: @crust;
    --color-brown-600: @mantle;
    --color-brown-500: @base;
    --color-brown-400: @surface0;

    --color-tan-400: @surface1;
    --color-tan-300: @surface2;

    --color-lime-400: var(--color--green-400);

    --color-brown-hover: mix(@overlay0, transparent, 25%);
    --color-brown-hover-focus: mix(@overlay1, transparent, 30%);

    --shadow: none;
    --shadow-inset: none;

    accent-color: @accent;
    color-scheme: light dark;

    html,
    body {
      background: var(--color-bg) !important;
      color: var(--color-text) !important;
      background-image: none !important;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      color: var(--color-text);
    }

    p,
    li,
    label,
    small,
    span {
      color: var(--color-text) !important;
    }

    .muted,
    .text-muted,
    [class*="muted"] {
      color: var(--color-text-muted) !important;
    }

    a,
    a:visited,
    a:hover {
      color: var(--primary);
    }

    article,
    footer,
    .card,
    [class*="panel"],
    [class*="modal"],
    [class*="sheet"] {
      background-color: var(--color-bg-2) !important;
      color: var(--color-text) !important;
      border-color: var(--color-border) !important;
    }

    pre,
    code,
    kbd,
    samp {
      background: var(--color-mantle) !important;
      color: var(--color-text) !important;
      border-color: var(--color-border) !important;
    }

    .input {
      --input-bg: mix(@surface0, @crust, 88%);
      --input-focus-ring: @accent;
      --input-subtitle-color: @base;
    }

    input,
    textarea,
    select {
      background: var(--input-bg) !important;
      color: var(--color-text) !important;
      border: 1px solid var(--color-border) !important;
      box-shadow: none !important;
    }

    input:focus,
    textarea:focus,
    select:focus {
      outline: none !important;
      border-color: @accent !important;
    }

    ::placeholder {
      color: @subtext0 !important;
      opacity: 1 !important;
    }

    button,
    .btn,
    [class*="btn"] {
      border: none;
      box-shadow: none !important;
    }

    .btn--brown {
      background-color: @accent !important;
      color: @base !important;
    }

    .btn--tan,
    .btn--secondary,
    .btn-secondary,
    [class*="btn--tan"],
    [class*="btn--secondary"] {
      background-color: @surface1 !important;
      color: @text !important;
      border: 1px solid @overlay0 !important;
    }

    .btn-primary {
      background-color: @accent !important;
      color: @base !important;
      border: 1px solid @overlay0 !important;
    }

    hr,
    .divider,
    [class*="divider"] {
      border-color: @overlay0 !important;
      opacity: 1 !important;
    }

    .ui-heading__surface {
      background-color: mix(@accent, black, 80%);
    }

    .ui-heading__backdrop {
      background-color: mix(@accent, black, 90%);
    }

    .dropdown__menu,
    .dropdown__label,
    .dropdown__button {
      color: @text !important;
      background: @surface1 !important;
    }

    .dropdown__button {
      border: 2px solid @surface2;
    }

    .dropdown__item:hover {
      background-color: @accent !important;
      color: @base !important;
    }

    .dev-footer {
      color: @text !important;
      opacity: 1 !important;
    }

    .sidebar__blob {
      background-color: mix(@accent, black, 90%);
    }

    .sidebar__nav-icon,
    .sidebar__nav-label {
      color: var(--primary-foreground) !important;
    }

    .sidebar__nav-link--active .sidebar__nav-icon-wrapper,
    .sidebar__nav-link--active::before {
      background-color: mix(@accent, black, 80%);
    }

    .sidebar__user-card {
      background-color: @surface0;
    }

    .sidebar__user-actions,
    .sidebar__user-settings-icon {
      color: @text;
      fill: @text;
    }

    .sidebar__user-logout-icon {
      color: @red;
    }

    .sidebar__user-avatar {
      background-color: @surface2;
    }

    .sidebar__user-name {
      background: @surface2;
    }

    .sidebar__user-avatar-hat,
    .sidebar__user-avatar-hat-bg {
      display: none;
    }

    .kitchen-setup,
    .kitchen-help {
      background: transparent !important;
    }

    .kitchen-setup::before,
    .kitchen-help::before {
      background: @surface1 !important;
    }

    .kitchen-help {
      .state-card {
        background-color: var(--color-bg-2) !important;
        border-color: var(--color-border) !important;
      }

      .state-card__title,
      .state-card__description,
      .state-card__cta {
        color: var(--color-text) !important;
      }
    }

    .state-card--success {
      --state-card-accent: var(--color-green-300);
    }

    .state-card__icon-circle {
      color: var(--color-bg) !important;
    }

    details.tutorial-steps:not([open]) > summary {
      margin-bottom: 0px !important;
    }

    .post::after {
      border-color: transparent;
      background-color: @accent;
    }

    .post::before {
      color: @base;
    }

    .post__meta,
    .post__duration,
    .post__author {
      color: var(--color-text) !important;
    }

    .project-card__banner-frame--placeholder {
      background: @surface2 !important;
      border-color: @overlay0 !important;
    }

    .project-card__banner-placeholder-text {
      color: @overlay2 !important;
    }

    .report-btn {
      background-color: @red;
    }

    .project-card__banner-frame {
      background: none;
    }

    .project-show-card__byline,
    .project-show-card__stat path {
      color: var(--color-text-muted);
    }

    .project-card .project-card__stats > h5,
    .project-card__stats-icon > path {
      color: var(--color-text) !important;
    }

    .projects-board__create-card::before {
      background: none !important;
    }

    .projects-board__create-card {
      border: 14px solid @surface0;
      background-color: var(--color-bg) !important;
    }

    .projects-board__create-icon {
      color: var(--color-text) !important;
    }

    .post__attachment {
      gap: 0;
    }

    .post__viewport {
      aspect-ratio: initial;
    }

    .post--devlog .post__chevron {
      background: @accent;
    }

    .projects-show__timeline::before {
      background-color: @accent;
      background-image: none;
      width: 8px;
      mask: url("data:image/svg+xml,%3csvg width='8' height='90' viewBox='0 0 4 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='0' y='0' width='4' height='30' rx='2' fill='white' /%3e%3c/svg%3e");
    }

    .shop-goals__container {
      background: @surface1;
      border-color: @surface2;
    }

    .shop-goals__item {
      box-shadow: none;
      background: @overlay0;
    }

    .shop-goals__remove {
      color: var(--color-red-600);
      background: @red;
    }

    .shop .shop__nav .shop__searchbar .input__icon {
      background-color: var(--input-icon-bg);
    }

    .shop-goals__image {
      padding: 4px;
      background: @accent;
    }

    .shop-item-card::before {
      background: none !important;
    }

    .shop-item-card__image {
      background: @accent;
    }

    .shop-order__content {
      background: var(--color-bg-2);
    }

    .shop-order__summary-content {
      color: var(--color-bg) !important;
    }

    .shop-item-card {
      background-color: var(--color-bg-2) !important;
      color: var(--color-text) !important;
      border-color: var(--color-border) !important;
    }

    .shop-item-card__stock-badge {
      background: @red;
    }

    .btn-order {
      color: var(--color-text) !important;
    }

    .achievements__stats {
      background: @surface1;
    }

    .achievements__stats-text {
      color: @text;
    }

    .achievements__stats-bar,
    .achievements__progress-bar{
      border: none;
    }

    .achievements__card::before {
      background: none;
    }

    .achievements__icon {
      background: @accent;
    }

    .achievements__icon-svg {
      font-size: 45px;
      font-weight: 800;
      color: @base !important;
    }

    .achievements__earned-at {
      background: @green;
      color: @base !important;
    }

    .achievements__progress-fill {
      background: var(--color-yellow-300);
    }

    .achievements__reward {
      background: var(--color-yellow-300);
      color: @base !important;
    }

    .achievements__card {
      background: @surface1;
    }
  }
}

@-moz-document url-prefix("https://flavortown.hackclub.com/leaderboard") {
  main {
    margin: 0px !important;
  }

  .users {
    width: 100%;
  }

  .user {
    background-color: var(--ctp-surface2);
  }

  .user > .content {
    background-color: var(--ctp-surface1);
  }

  .user > .content > h2 > a {
    color: var(--primary);
  }
}
